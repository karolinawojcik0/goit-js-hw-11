{"mappings":"AAAA,MAAMA,EAAaC,SAASC,eAAe,eACrCC,EAAmBF,SAASC,eAAe,WAC3CE,EAAiBH,SAASC,eAAe,aACzCG,EAAwBJ,SAASC,eAAe,0BACtD,IAAII,EAAc,EACdC,EAAe,GAEnB,MAAMC,EAAcC,MAAOC,EAAOC,EAAO,KACvC,IACE,MAAMC,EAAS,qCACTC,QAAiBC,MAAM,gCAAgCF,OAAYF,kEAAsEC,iBAE/I,aADmBE,EAASE,M,CAE5B,MAAOC,GACPC,QAAQD,MAAM,yBAA0BA,E,GAItCE,EAAiBC,IACrBA,EAAOC,SAASC,IACd,MAAMC,EAAOrB,SAASsB,cAAc,OACpCD,EAAKE,UAAUC,IAAI,cACnBH,EAAKI,UAAY,qBACHL,EAAMM,sBAAsBN,EAAMO,iGAEPP,EAAMQ,yDACNR,EAAMS,4DACHT,EAAMU,gEACLV,EAAMW,oCAGnD7B,EAAiB8B,YAAYX,EAAK,IAInB,IAAIY,eAAe,gBAC3BC,SAAS,EAGdC,EAAoBC,IACxBhC,EAAsBqB,UAAY,6BAA6BW,UAC/DC,YAAW,KACTjC,EAAsBqB,UAAY,EAAE,GACnC,IAAK,EA0CV1B,EAAWuC,iBAAiB,UAvCP9B,MAAO+B,IAC1BA,EAAMC,iBACNnC,EAAc,EACdC,EAAeiC,EAAME,OAAOC,YAAYC,MAAMC,OAC9C1C,EAAiBuB,UAAY,GAC7BtB,EAAe0C,MAAMC,QAAU,OAE/B,MAAMC,QAAaxC,EAAYD,EAAcD,GAEzC0C,EAAKC,KAAKC,OAAS,GACrBhC,EAAc8B,EAAKC,MACnB7C,EAAe0C,MAAMC,QAAU,QAC/BX,EAAiB,oBAAoBY,EAAKG,sBAE1Cf,EAAiB,2EAA2E,IA0BhGhC,EAAemC,iBAAiB,SAtBT9B,UACrBH,IACA,MAAM0C,QAAaxC,EAAYD,EAAcD,GAEzC0C,EAAKC,KAAKC,OAAS,EACrBhC,EAAc8B,EAAKC,OAEnB7C,EAAe0C,MAAMC,QAAU,OAC/BX,EAAiB,+DAInB,MAAQgB,OAAQC,GAAepD,SAC5BqD,cAAc,YACdC,kBAAkBC,wBACrBC,OAAOC,SAAS,CACdC,IAAkB,EAAbN,EACLO,SAAU,UACV","sources":["src/index.js"],"sourcesContent":["const searchForm = document.getElementById('search-form');\nconst galleryContainer = document.getElementById('gallery');\nconst loadMoreButton = document.getElementById('load-more');\nconst notificationContainer = document.getElementById('notification-container');\nlet currentPage = 1;\nlet currentQuery = '';\n\nconst fetchImages = async (query, page = 1) => {\n  try {\n    const apiKey = '42320821-672b5df2478abbbc9b3da7ab2';\n    const response = await fetch(`https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=40`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n  }\n};\n\nconst displayImages = (images) => {\n  images.forEach((image) => {\n    const card = document.createElement('div');\n    card.classList.add('photo-card');\n    card.innerHTML = `\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>\n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>\n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>\n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>\n      </div>\n    `;\n    galleryContainer.appendChild(card);\n  });\n\n  // Initialize SimpleLightbox for image viewing\n  const lightbox = new SimpleLightbox('.gallery img');\n  lightbox.refresh();\n};\n\nconst showNotification = (message) => {\n  notificationContainer.innerHTML = `<div class=\"notification\">${message}</div>`;\n  setTimeout(() => {\n    notificationContainer.innerHTML = '';\n  }, 3000);\n};\n\nconst handleSearch = async (event) => {\n  event.preventDefault();\n  currentPage = 1;\n  currentQuery = event.target.searchQuery.value.trim();\n  galleryContainer.innerHTML = ''; // Clear the gallery\n  loadMoreButton.style.display = 'none';\n\n  const data = await fetchImages(currentQuery, currentPage);\n\n  if (data.hits.length > 0) {\n    displayImages(data.hits);\n    loadMoreButton.style.display = 'block';\n    showNotification(`Hooray! We found ${data.totalHits} images.`);\n  } else {\n    showNotification('Sorry, there are no images matching your search query. Please try again.');\n  }\n};\n\nconst handleLoadMore = async () => {\n  currentPage++;\n  const data = await fetchImages(currentQuery, currentPage);\n\n  if (data.hits.length > 0) {\n    displayImages(data.hits);\n  } else {\n    loadMoreButton.style.display = 'none';\n    showNotification(\"We're sorry, but you've reached the end of search results.\");\n  }\n\n  // Smooth scroll to the new images\n  const { height: cardHeight } = document\n    .querySelector('.gallery')\n    .firstElementChild.getBoundingClientRect();\n  window.scrollBy({\n    top: cardHeight * 2,\n    behavior: 'smooth',\n  });\n};\n\nsearchForm.addEventListener('submit', handleSearch);\nloadMoreButton.addEventListener('click', handleLoadMore);\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","getElementById","$1f0dc3b9307be026$var$galleryContainer","$1f0dc3b9307be026$var$loadMoreButton","$1f0dc3b9307be026$var$notificationContainer","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","$1f0dc3b9307be026$var$fetchImages","async","query","page","apiKey","response","fetch","json","error","console","$1f0dc3b9307be026$var$displayImages","images","forEach","image","card","createElement","classList","add","innerHTML","webformatURL","tags","likes","views","comments","downloads","appendChild","SimpleLightbox","refresh","$1f0dc3b9307be026$var$showNotification","message","setTimeout","addEventListener","event","preventDefault","target","searchQuery","value","trim","style","display","data","hits","length","totalHits","height","cardHeight","querySelector","firstElementChild","getBoundingClientRect","window","scrollBy","top","behavior"],"version":3,"file":"index.82568d6e.js.map"}